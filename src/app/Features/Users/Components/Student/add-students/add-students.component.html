<div
  class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-blue-100 py-10"
>
  <div
    class="w-full max-w-md sm:max-w-lg lg:max-w-xl bg-white p-6 sm:p-8 rounded-3xl shadow-[0_10px_40px_rgba(0,0,0,0.08)] flex flex-col gap-6"
    dir="rtl"
  >
    <!-- Header -->
    <div class="text-center space-y-2">
      <h2 class="text-2xl sm:text-3xl font-extrabold text-slate-800">
        إضافة الطلاب
      </h2>
      <p class="text-sm text-slate-500">
        رفع ملف Excel يحتوي على بيانات الطلاب
      </p>
    </div>

    <!-- Password -->
    <div class="w-full">
      <label
        for="defaultPassword"
        class="block mb-2 text-sm font-semibold text-gray-700"
      >
        كلمة المرور الافتراضية
      </label>
      <p-inputGroup class="w-full">
        <p-inputGroupAddon
          class="bg-blue-50 border border-blue-200 rounded-l-md p-2"
        >
          <i class="pi pi-lock text-slate-600 text-2xl"></i>
        </p-inputGroupAddon>
        <input
          pPassword
          type="password"
          id="defaultPassword"
          [(ngModel)]="defaultPassword"
          name="defaultPassword"
          placeholder="أدخل كلمة المرور الافتراضية"
          class="w-9/12 p-3 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-300 text-base"
        />
        <p-inputGroupAddon
          class="bg-gray-50 border border-blue-200 rounded-l-md p-2 cursor-pointer"
        >
          <i
            (click)="togglePassword('defaultPassword')"
            [hidden]="visibility['defaultPassword']"
            class="pi pi-eye text-slate-600 text-2xl"
          ></i>
          <i
            (click)="togglePassword('defaultPassword')"
            [hidden]="!visibility['defaultPassword']"
            class="pi pi-eye-slash text-slate-600 text-2xl"
          ></i>
        </p-inputGroupAddon>
      </p-inputGroup>
    </div>
    <!-- Academic Year -->
    <div class="w-full space-y-1">
      <label class="text-sm font-medium text-slate-600"> السنة الدراسية </label>
      <p-dropdown
        [options]="availableAcademicLevels"
        [(ngModel)]="selectedAcademicLevel"
        optionLabel="levelName"
        placeholder="اختر السنة الدراسية"
        [showClear]="true"
        inputId="academicLevel"
        class="w-full bg-blue-400 p-3 rounded-lg text-center"
        styleClass="w-56 m-auto text-lg text-slate-700 font-semibold"
      />
    </div>

    <!-- Department -->
    <div class="w-full space-y-1">
      <label class="text-sm font-medium text-slate-600"> القسم </label>
      <p-dropdown
        [options]="availableDepartments"
        [(ngModel)]="selectedDepartment"
        optionLabel="name"
        placeholder="اختر القسم"
        [showClear]="true"
        inputId="department"
        class="w-full bg-blue-400 p-3 rounded-lg text-center"
        styleClass="w-56 m-auto text-lg text-slate-700 font-semibold"
      />
    </div>

    <!-- File Upload -->
    <div
      class="border-2 border-dashed border-slate-300 rounded-2xl p-6 text-center hover:border-blue-500 transition-colors"
    >
      <p-fileUpload
        #uploader
        mode="basic"
        name="file"
        [customUpload]="true"
        (uploadHandler)="customUploadHandler($event)"
        [auto]="false"
        chooseLabel="اختر ملف Excel"
        chooseIcon="pi pi-file-excel"
        [showUploadButton]="false"
        [showCancelButton]="false"
        accept=".xlsx, .xls"
        maxFileSize="1000000"
        (onUpload)="onUpload($event)"
        (onError)="onError($event)"
        class="w-full font-semibold text-slate-600"
      >
      </p-fileUpload>

      <p class="mt-3 text-xs text-slate-400">
        الصيغ المدعومة: XLSX, XLS. الحجم الأقصى للملف: 1 ميجابايت.
      </p>
    </div>

    <!-- Submit Button -->
    <p-button
      label="رفع البيانات"
      (onClick)="uploader.upload()"
      [rounded]="true"
      icon="pi pi-cloud-upload"
      class="w-full flex justify-center items-center bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl text-lg font-bold transition"
      styleClass="w-40"
    />
  </div>
</div>
